<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ðŸŽ§ JAMZY - Social Music Discovery</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://www.youtube.com/iframe_api"></script>
    <script>
        // Don't load SDK automatically - load it only when needed
        window.loadSpotifySDK = function() {
            if (window.spotifySDKLoading || window.Spotify) {
                return Promise.resolve();
            }
            
            window.spotifySDKLoading = true;
            console.log('Loading Spotify SDK on demand...');
            
            return new Promise((resolve, reject) => {
                // Define callback before loading
                window.onSpotifyWebPlaybackSDKReady = function() {
                    console.log('Spotify SDK ready');
                    window.spotifySDKReady = true;
                    window.dispatchEvent(new Event('spotify-sdk-ready'));
                    resolve();
                };
                
                const script = document.createElement('script');
                script.src = 'https://sdk.scdn.co/spotify-player.js';
                script.async = true;
                script.onerror = reject;
                document.head.appendChild(script);
            });
        };
        
        console.log('Spotify SDK will be loaded on demand');
    </script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=VT323&family=Courier+New:wght@400;700&family=Impact:wght@400&display=swap" rel="stylesheet">
    <script src="tailwind-config.js"></script>
    <style>
        :root {
            --primary-color: #0099ff;   /* 90s neon blue */
            --secondary-color: #00ccff;  /* lighter 90s blue accent */
            --success-color: #10b981;    /* green for success states */
            --error-color: #ef4444;      /* red for errors */
        }
        
        @keyframes blink {
            0%, 50% { opacity: 1; }
            51%, 100% { opacity: 0; }
        }
        
        @keyframes slide-in {
            from { transform: translateX(-100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }
        
        @keyframes bounce-in {
            0% { transform: scale(0.3) rotate(-10deg); opacity: 0; }
            50% { transform: scale(1.05) rotate(2deg); }
            70% { transform: scale(0.9) rotate(-1deg); }
            100% { transform: scale(1) rotate(0deg); opacity: 1; }
        }
        
        @keyframes glitch-90s {
            0%, 100% { transform: translate(0); filter: hue-rotate(0deg); }
            20% { transform: translate(-2px, 2px); filter: hue-rotate(90deg); }
            40% { transform: translate(-2px, -2px); filter: hue-rotate(180deg); }
            60% { transform: translate(2px, 2px); filter: hue-rotate(270deg); }
            80% { transform: translate(2px, -2px); filter: hue-rotate(360deg); }
        }
        
        @keyframes slide-up {
            from { 
                transform: translateY(100%); 
                opacity: 0; 
            }
            to { 
                transform: translateY(0); 
                opacity: 1; 
            }
        }
        
        .animate-slide-up {
            animation: slide-up 0.3s ease-out;
        }
        
        @keyframes spin-slow {
            from {
                transform: rotate(0deg);
            }
            to {
                transform: rotate(360deg);
            }
        }
        
        .animate-spin-slow {
            animation: spin-slow 3s linear infinite;
        }
        
        @keyframes scroll-left {
            from {
                transform: translateX(0);
            }
            to {
                transform: translateX(-50%);
            }
        }
        
        .animate-scroll-left {
            animation: scroll-left 30s linear infinite;
        }
        
        .win95-button {
            border: 2px outset #c0c0c0;
            background: linear-gradient(145deg, #dfdfdf, #c0c0c0);
            box-shadow: 
                inset 1px 1px 0px #ffffff,
                inset -1px -1px 0px #808080,
                1px 1px 0px #000000;
        }
        
        .win95-button:hover {
            background: linear-gradient(145deg, #e0e0e0, #d0d0d0);
        }
        
        .win95-button:active {
            border: 2px inset #c0c0c0;
            box-shadow: 
                inset -1px -1px 0px #ffffff,
                inset 1px 1px 0px #808080;
        }
        
        /* Track items get white background */
        .track-item {
            background: white !important;
            border: 2px outset #e0e0e0;
        }
        
        .track-item:hover {
            background: #fafafa !important;
        }
        
        .win95-panel {
            border: 2px inset #e0e0e0;
            background: #f5f5f5;
            box-shadow: 
                inset 1px 1px 0px #ffffff,
                inset -1px -1px 0px #d0d0d0;
        }
        
        .grunge-bg {
            background: 
                radial-gradient(circle at 25% 25%, #ff00ff 0%, transparent 50%),
                radial-gradient(circle at 75% 75%, #00ffff 0%, transparent 50%),
                radial-gradient(circle at 50% 50%, #ffff00 0%, transparent 50%),
                linear-gradient(45deg, #000000 0%, #1a1a1a 100%);
        }
        
        .tv-static {
            background-image: 
                radial-gradient(circle, rgba(255,255,255,0.1) 1px, transparent 1px);
            background-size: 15px 15px;
            animation: tv-static 0.1s linear infinite;
        }
        
        @keyframes tv-static {
            0% { background-position: 0 0; }
            100% { background-position: 15px 15px; }
        }
        
        .lcd-text {
            background: #000;
            color: #00ff00;
            font-family: 'VT323', monospace;
            padding: 8px;
            border: 2px inset #333;
            text-shadow: 0 0 10px #00ff00;
        }
        
        /* Modern translucent scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
            height: 8px;
        }
        
        ::-webkit-scrollbar-track {
            background: transparent;
        }
        
        ::-webkit-scrollbar-thumb {
            background: rgba(0, 0, 0, 0.2);
            border-radius: 10px;
        }
        
        ::-webkit-scrollbar-thumb:hover {
            background: rgba(0, 0, 0, 0.3);
        }
        
        ::-webkit-scrollbar-thumb:active {
            background: rgba(0, 0, 0, 0.4);
        }
        
        /* Corner where scrollbars meet */
        ::-webkit-scrollbar-corner {
            background: transparent;
        }
        
        /* Firefox scrollbar support */
        * {
            scrollbar-width: thin;
            scrollbar-color: rgba(0, 0, 0, 0.2) transparent;
        }
        
        /* Safe area padding for mobile devices with notches/bottom bars */
        .pb-safe {
            padding-bottom: env(safe-area-inset-bottom, 0);
        }
        
        .windows-titlebar {
            background: linear-gradient(90deg, #008080 0%, #0000ff 100%);
            color: white;
            font-family: 'MS Sans Serif', sans-serif;
            font-size: 11px;
            font-weight: bold;
        }
    </style>
</head>
<body class="bg-black font-pixel overflow-hidden h-screen" style="color: var(--primary-color);">
    <div id="root"></div>
    <script type="module" src="/src/index.tsx"></script>
</body>
</html>