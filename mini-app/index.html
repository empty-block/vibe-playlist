<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    <title>ðŸŽ§ JAMZY Mini</title>

    <!-- Farcaster Mini App Meta Tags -->
    <meta property="fc:frame" content="vNext" />
    <meta property="fc:frame:image" content="https://jamzy.fun/farcaster-share.png" />
    <meta property="fc:frame:button:1" content="Start Jamming" />
    <meta property="fc:frame:button:1:action" content="link" />
    <meta property="fc:frame:button:1:target" content="https://jamzy.fun" />

    <!-- Open Graph Meta Tags -->
    <meta property="og:title" content="JAMZY - Social Music Discovery" />
    <meta property="og:description" content="Discover and share music with your Farcaster community. Connect Spotify and YouTube to create your perfect vibe." />
    <meta property="og:image" content="https://jamzy.fun/farcaster-share.png" />
    <meta property="og:url" content="https://jamzy.fun" />
    <meta property="og:type" content="website" />

    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://www.youtube.com/iframe_api"></script>
    <script>
        // Don't load SDK automatically - load it only when needed
        window.loadSpotifySDK = function() {
            if (window.spotifySDKLoading || window.Spotify) {
                return Promise.resolve();
            }

            window.spotifySDKLoading = true;
            console.log('Loading Spotify SDK on demand...');

            return new Promise((resolve, reject) => {
                // Define callback before loading
                window.onSpotifyWebPlaybackSDKReady = function() {
                    console.log('Spotify SDK ready');
                    window.spotifySDKReady = true;
                    window.dispatchEvent(new Event('spotify-sdk-ready'));
                    resolve();
                };

                const script = document.createElement('script');
                script.src = 'https://sdk.scdn.co/spotify-player.js';
                script.async = true;
                script.onerror = reject;
                document.head.appendChild(script);
            });
        };

        console.log('Spotify SDK will be loaded on demand');
    </script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=VT323&family=Courier+New:wght@400;700&family=Impact:wght@400&display=swap" rel="stylesheet">
    <style>
        :root {
            /* JAMZY DESIGN SYSTEM - Neon 90s Color Palette */
            --neon-blue: #3b00fd;
            --neon-green: #00f92a;
            --neon-cyan: #04caf4;
            --neon-pink: #f906d6;
            --neon-orange: #ff9b00;
            --neon-yellow: #d1f60a;

            --dark-bg: #1a1a1a;
            --darker-bg: #0f0f0f;
            --light-text: #ffffff;
            --muted-text: #cccccc;

            --primary-color: var(--neon-blue);
            --secondary-color: var(--neon-cyan);
            --accent-color: var(--neon-green);

            /* Spacing System */
            --space-2: 8px;
            --space-4: 16px;
            --space-6: 24px;
            --space-8: 32px;

            /* Typography */
            --text-xs: 12px;
            --text-sm: 14px;
            --text-base: 16px;
            --text-lg: 20px;
            --text-xl: 24px;
        }

        /* Modern translucent scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
            height: 8px;
        }

        ::-webkit-scrollbar-track {
            background: transparent;
        }

        ::-webkit-scrollbar-thumb {
            background: rgba(0, 0, 0, 0.2);
            border-radius: 10px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: rgba(0, 0, 0, 0.3);
        }

        * {
            scrollbar-width: thin;
            scrollbar-color: rgba(0, 0, 0, 0.2) transparent;
        }

        /* Safe area padding for mobile devices */
        .pb-safe {
            padding-bottom: env(safe-area-inset-bottom, 0);
        }

        html, body {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        *, *:before, *:after {
            box-sizing: inherit;
        }

        html {
            height: 100%;
        }

        #root {
            width: 100%;
            height: 100%;
        }
    </style>
</head>
<body class="bg-black font-pixel m-0 p-0" style="color: var(--primary-color); min-height: 100vh; width: 100%;">
    <div id="root"></div>
    <script type="module" src="/src/index.tsx"></script>
</body>
</html>
